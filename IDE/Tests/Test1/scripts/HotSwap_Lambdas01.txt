# This tests modifying anonymous lambdas, including changing captured data (both legally and illegally)

ShowFile("src/HotSwap_Lambdas01.bf")
GotoText("//Test_Start")
ToggleBreakpoint()
RunWithCompiling()

StepOver()
StepOver()
StepOver()
StepOver()
AssertEvalEquals("val0", "200")
AssertEvalEquals("val1", "423")
AssertEvalEquals("val2", "757")

ToggleCommentAt("Dlg0_0")
ToggleCommentAt("Dlg1_0")
ToggleCommentAt("Dlg2_0")
Compile()
SetExpectError("incompatible captures")
StepOver()
ExpectError()
StepOut()
StepOver()
StepOver()
AssertEvalEquals("val0", "200")
AssertEvalEquals("val1", "300")
AssertEvalEquals("val2", "523")